(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(28),a=n.n(s),i=n(11),r=n(3),o=n(2),l=n(10),j=n.n(l),d=(n(54),n(55),n(56),n(9)),u=n.n(d),b=n(12),h=n(14),O=n.n(h),p=n(0);var x=function(e){var t=e.isLoggedIn,n=Object(c.useState)("hide"),s=Object(r.a)(n,2),a=s[0],o=s[1],l=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("http://localhost:8000/accounts/logout",{},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")}});case 2:n=e.sent,console.log(n.data),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"navbar",children:Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsxs)("div",{className:"left-menu-expand",onClick:function(e){o("hide"===a?"show":"hide")},children:[Object(p.jsx)("div",{className:"bar"}),Object(p.jsx)("div",{className:"bar"}),Object(p.jsx)("div",{className:"bar"})]}),Object(p.jsx)("div",{className:"left",children:Object(p.jsx)(i.b,{to:"/",className:"link",children:"Home"})}),t?Object(p.jsxs)("div",{className:"right",children:[Object(p.jsx)("div",{className:"items",children:Object(p.jsx)(i.b,{to:"/profile",className:"hello-msg",children:"Profile"})}),Object(p.jsx)("div",{className:"items",children:Object(p.jsx)("button",{className:"logout-btn",onClick:function(e){return l(e)},children:"Logout"})})]}):Object(p.jsx)("div",{className:"right",children:Object(p.jsx)("div",{className:"items",children:Object(p.jsx)(i.b,{to:"/authenticate",className:"login-link",children:"Login"})})}),Object(p.jsxs)("div",{className:"expand-menu ".concat(a),children:[Object(p.jsx)("div",{className:"items",children:Object(p.jsx)(i.b,{to:"/",className:"link",children:"Home"})}),Object(p.jsx)("div",{className:"items",children:"About Us"}),Object(p.jsx)("div",{className:"items",children:"Contact Us"})]})]})})};function m(e){var t=e.isLoggedIn;return Object(p.jsxs)("div",{className:"home-container",children:[Object(p.jsx)("div",{children:Object(p.jsx)(x,{isLoggedIn:t})}),Object(p.jsx)("div",{className:"body-container",children:Object(p.jsxs)("div",{className:"message",children:["Welcome to the website.",Object(p.jsx)("a",{href:"/privacyPolicy.html",target:"_blank",children:"Privacy Policy"}),Object(p.jsx)("a",{href:"/termsAndConditions.html",target:"_blank",children:"T&C"})]})})]})}var f=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(""),h=Object(r.a)(d,2),x=h[0],m=h[1],f=function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.a.post("http://localhost:8000/accounts/register",{username:n,password:o,re_password:x},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")}});case 3:(c=e.sent)&&c.data.success&&(alert("Registered"),window.location.reload());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"register",children:Object(p.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(p.jsx)("div",{className:"input-container",children:Object(p.jsx)("input",{type:"text",value:n,onChange:function(e){return s(e.target.value)},placeholder:"username"})}),Object(p.jsx)("div",{className:"input-container",children:Object(p.jsx)("input",{type:"password",value:o,onChange:function(e){return l(e.target.value)},placeholder:"password"})}),Object(p.jsx)("div",{className:"input-container",children:Object(p.jsx)("input",{type:"text",value:x,onChange:function(e){return m(e.target.value)},placeholder:"re-password"})}),Object(p.jsx)("div",{className:"register-btn-container",children:Object(p.jsx)("button",{type:"submit",children:"Register"})})]})})};var v=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],d=function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.a.post("http://localhost:8000/accounts/login",{username:n,password:o},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")}});case 3:(c=e.sent)&&c.data.success?(alert("Authenticated"),window.location.href="/"):alert("Not Authenticated");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"login",children:Object(p.jsxs)("form",{onSubmit:function(e){return d(e)},children:[Object(p.jsx)("div",{className:"input-container",children:Object(p.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)},placeholder:"username"})}),Object(p.jsx)("div",{className:"input-container",children:Object(p.jsx)("input",{type:"password",onChange:function(e){return l(e.target.value)},placeholder:"password"})}),Object(p.jsx)("div",{className:"login-btn-container",children:Object(p.jsx)("button",{type:"submit",children:"Login"})})]})})};function g(e){var t=e.isLoggedIn,n=Object(c.useState)("hide"),s=Object(r.a)(n,2),a=s[0],o=s[1],l=Object(c.useState)("show"),j=Object(r.a)(l,2),d=j[0],u=j[1],b="bg-color-dark",h="bg-color-light",O=Object(c.useState)(b),x=Object(r.a)(O,2),m=x[0],g=x[1],N=Object(c.useState)(h),w=Object(r.a)(N,2),k=w[0],C=w[1];if(!t)return Object(p.jsxs)("div",{className:"login-container",children:[Object(p.jsx)("div",{className:"home-container",children:Object(p.jsx)(i.b,{to:"/",className:"home-link",children:"Home"})}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)("div",{className:"btn",children:Object(p.jsx)("button",{onClick:function(){u("show"),o("hide"),g(b),C(h)},className:m,children:"Login"})}),Object(p.jsx)("div",{className:"btn",children:Object(p.jsx)("button",{onClick:function(){u("hide"),o("show"),g(h),C(b)},className:k,children:"Register"})})]}),Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsx)("div",{className:a,children:Object(p.jsx)(f,{})}),Object(p.jsx)("div",{className:d,children:Object(p.jsx)(v,{})})]})]});window.location.href="/"}function N(e){var t=e.isLoggedIn,n=(e.responseStatus,Object(c.useState)(null)),s=Object(r.a)(n,2),a=s[0],i=s[1];return Object(c.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,j.a.get("http://localhost:8000/users/user",{withCredentials:!0,headers:{"Content-Type":"application/json"}});case 3:n=e.sent,console.log(n.data),i(n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{isLoggedIn:t}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"Hi ",null===a||void 0===a?void 0:a.username,"!"]}):(window.location.href="/authenticate",Object(p.jsx)("div",{}))}var w=function(){return Object(p.jsx)("div",{className:"page-not-found-container",children:Object(p.jsx)("span",{className:"page-not-found-message",children:"Error 404: Page Not Found!"})})};var k=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),l=Object(r.a)(a,2),d=l[0],u=l[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),O=h[0],x=h[1];return Object(c.useEffect)((function(){j.a.get("http://localhost:8000/accounts/isAuth",{withCredentials:!0}).then((function(e){"false"===e.data.isAuthenticated?(alert("Not authenticated"),s(!1),j.a.get("http://localhost:8000/accounts/csrf_cookie",{withCredentials:!1}).then((function(e){alert("Cookie set"),x(function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var s=n[c].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t}("csrftoken"))}))):(alert("Already authenticated"),s(!0)),setTimeout((function(){u(!0)}),500)}))}),[]),Object(c.useEffect)((function(){}),[O]),d?Object(p.jsx)("div",{children:Object(p.jsx)(i.a,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",component:function(){return Object(p.jsx)(m,{isLoggedIn:n})},exact:!0}),Object(p.jsx)(o.a,{path:"/authenticate",component:function(){return Object(p.jsx)(g,{isLoggedIn:n})},exact:!0}),Object(p.jsx)(o.a,{path:"/profile",component:function(){return Object(p.jsx)(N,{isLoggedIn:n,responseStatus:d})},exact:!0}),Object(p.jsx)(o.a,{component:w})]})})}):Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"loader-wrapper",children:Object(p.jsx)("div",{className:"loader"})})})};a.a.render(Object(p.jsx)(i.a,{children:Object(p.jsx)(k,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.f4feced4.chunk.js.map